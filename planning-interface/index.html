
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../objects/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.29">
    
    
      
        <title>Planning API - SUTURO Knowledge</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.76a95c52.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Montserrat";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.13.4/r-2.4.1/datatables.min.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="suturo" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#planning-api-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="SUTURO Knowledge" class="md-header__button md-logo" aria-label="SUTURO Knowledge" data-md-component="logo">
      
  <img src="../assets/images/suturo-knowledge-logo-white-512.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SUTURO Knowledge
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Planning API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="suturo" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/SUTURO/suturo_knowledge" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    suturo_knowledge
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Planning API

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../objects/" class="md-tabs__link">
        
  
    
  
  Objects

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SUTURO Knowledge" class="md-nav__button md-logo" aria-label="SUTURO Knowledge" data-md-component="logo">
      
  <img src="../assets/images/suturo-knowledge-logo-white-512.png" alt="logo">

    </a>
    SUTURO Knowledge
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SUTURO/suturo_knowledge" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    suturo_knowledge
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Planning API
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Planning API
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#readers-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Readers guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High-Level Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#serve-breakfast" class="md-nav__link">
    <span class="md-ellipsis">
      Serve Breakfast
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-groceries" class="md-nav__link">
    <span class="md-ellipsis">
      Storing Groceries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-the-table" class="md-nav__link">
    <span class="md-ellipsis">
      Clean the Table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-types" class="md-nav__link">
    <span class="md-ellipsis">
      Data types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typeclass" class="md-nav__link">
    <span class="md-ellipsis">
      Type/Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object" class="md-nav__link">
    <span class="md-ellipsis">
      Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#posestamped" class="md-nav__link">
    <span class="md-ellipsis">
      PoseStamped
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objects" class="md-nav__link">
    <span class="md-ellipsis">
      Objects
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      Create an object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      Query an object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pose-and-shape-information" class="md-nav__link">
    <span class="md-ellipsis">
      Pose and shape information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relative-poses" class="md-nav__link">
    <span class="md-ellipsis">
      Relative poses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relative poses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inside-of-rooms" class="md-nav__link">
    <span class="md-ellipsis">
      Inside of rooms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-top-of-furniture" class="md-nav__link">
    <span class="md-ellipsis">
      On top of Furniture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-objects-by-position" class="md-nav__link">
    <span class="md-ellipsis">
      Sorting objects by position
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poses-for-robot-interaction" class="md-nav__link">
    <span class="md-ellipsis">
      Poses for robot interaction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-object-names" class="md-nav__link">
    <span class="md-ellipsis">
      Predefined object names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#robocup-names" class="md-nav__link">
    <span class="md-ellipsis">
      Robocup Names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-object-locations" class="md-nav__link">
    <span class="md-ellipsis">
      Predefined object locations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#next-best-object" class="md-nav__link">
    <span class="md-ellipsis">
      Next best object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-similarity-measure" class="md-nav__link">
    <span class="md-ellipsis">
      Semantic similarity measure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Semantic similarity measure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#most-similar-object" class="md-nav__link">
    <span class="md-ellipsis">
      Most similar object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wu-palmer-similarity" class="md-nav__link">
    <span class="md-ellipsis">
      Wu-Palmer similarity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rooms" class="md-nav__link">
    <span class="md-ellipsis">
      Rooms
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    <span class="md-ellipsis">
      Utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resetting-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Resetting the data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-the-object-for-a-link-name" class="md-nav__link">
    <span class="md-ellipsis">
      Getting the object for a link name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-the-tf-frame" class="md-nav__link">
    <span class="md-ellipsis">
      Getting the TF frame
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drop-roslog-database" class="md-nav__link">
    <span class="md-ellipsis">
      Drop roslog database
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../objects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Objects
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/SUTURO/suturo_knowledge/edit/master/docs/planning-interface.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="planning-api-documentation">Planning API Documentation</h1>
<h2 id="readers-guide">Readers guide</h2>
<p>Each code documentation section contains:</p>
<ol>
<li>A short description of a possible use case</li>
<li>The definition of the predicate</li>
<li>A codeblock with multiple examples, each one separated by 2 newlines</li>
</ol>
<p>The examples are in the following format:</p>
<ol>
<li><code>?-</code> followed by a query</li>
<li>The variable instantiations that Prolog found.</li>
</ol>
<p>Meaning of the symbols in front of the parameter:</p>
<ul>
<li><code>?</code> means this can be specified (an input) or be a variable (an output)</li>
<li><code>+</code> means this is only input (it has to be a concrete value)</li>
<li><code>-</code> means this is output (only putting a variable here makes sense for planning)</li>
</ul>
<p>Meaning of the predicate behavior:  </p>
<ul>
<li><code>det</code> Succeeds exactly once without a choice point</li>
<li><code>semidet</code> Fails or Succeeds exactly once without a choice-point</li>
<li><code>nondet</code> May succeed any number of times (this means <code>cut:lazy-cdr</code> might be needed to get all values)</li>
<li><code>multi</code> As <code>nondet</code>, but succeeds at least one time</li>
</ul>
<p>These definitions are the same as on <a href="https://www.swi-prolog.org/pldoc/man?section=modes">https://www.swi-prolog.org/pldoc/man?section=modes</a>.</p>
<h2 id="high-level-concepts">High-Level Concepts</h2>
<p>In the following the high-level ideas for the exchange between Planning and Knowledge are described for the different challenges.</p>
<p>To successfully utilize the Knowledge-Planning API, the following 4 predicates are important:</p>
<ul>
<li><code>create_object(-Object, +Type, +PoseStamped, +Options)</code>: Used to instantiate/create new, perceived objects</li>
<li><code>object_rel_pose(+Object, +Type, +Options, -PoseStamped)</code>: Returns important poses for a given object (e.g. from where to perceive it or where to place it)</li>
<li><code>predefined_origin_location(+Type, -Location)</code>: Returns the predefined location for a given object type (e.g. the predefined location of bowls is on inside of Shelf_FIFFJO)</li>
<li><code>next_object(-Object)</code>: Returns the next best object to be processed/picked for a given challenge</li>
</ul>
<h3 id="serve-breakfast">Serve Breakfast</h3>
<p><a href="https://mermaid.live/edit#pako:eNqNVF1v2jAU_SuWXwA10EBLo_qhD1tXaWVVUfu0lSpynAv1CHZmm34M9b_v2gkQaDURCTvxPffk5J7LXVGhc6CMWvizBCXgUvKZ4YuJIqTkxkkhS64cGQPhFlcjoHRSqw_xEC64UlLN9oMjHxwp_VJAPgMfHXcvLkaMSCVdasE8Q5oZ4PMpt24dHjNyo5-B3OlMO0Q6TdwTqjCgkG0unXgCRV78kmttiLREl6Aa7KWBHKZSQZ5qI2dSpYUW3KtvW73grPUFFbUi0h1vgD9qQIfg62bgGhxknUz0lGSYaf2rRt1K6kcKRr7yDA9c-vP6-9X11dVlQ5rOfoNwqYEiLbWFdmsfi7Japa-2fAa8P7oNVbdeLOLvHV-UkG9V1kjiybw-XylRUWLprOPo7I7cLQkjDy3JZVpX9LhOY3t7mnELqQDlwKCgh7gXo5i4149I3Bv2H9dH26Xfix8f991EwWtdO6I3OGBVl_lAqLLXL_PN5wQgrD-jRuYBSrjKiXR2hxCLLbC1HKRVzdvd27BHZKcHjhoV2Za7U-dW9J8VsiJjxNMcZPQOMLhccHGAxTlYJ1XVgM1O9E57dQe663hWAGus__X17BBfx1LMNzKCB-GT0AnCXQh8qr2NPx8MKjoNvjsooU7kme8Z63DmWNz8SFEzz1qXtfEPX_MeD8gUp4HP1riYGmpJ25Zaq4gIQEuLTL9GZCGLecnFvEMjugCz4DLHSbjyWiYUkxcwoQxv8R18WbgJnah3hPKl0_dvSlDmzBIiuixz7JF6cFI25YXdnH7LpdNmcwjh8aYauWHyRhRH5C-tt4n4TNmKvlJ2ctY7PWtcSUTfKOsPz3uDOEmSQYzbYHj6HtG_gQCdqa5hfJ6cJP0kef8HzwPyyw"><img alt="" src="https://mermaid.ink/img/pako:eNqNVF1v2jAU_SuWXwA10EBLo_qhD1tXaWVVUfu0lSpynAv1CHZmm34M9b_v2gkQaDURCTvxPffk5J7LXVGhc6CMWvizBCXgUvKZ4YuJIqTkxkkhS64cGQPhFlcjoHRSqw_xEC64UlLN9oMjHxwp_VJAPgMfHXcvLkaMSCVdasE8Q5oZ4PMpt24dHjNyo5-B3OlMO0Q6TdwTqjCgkG0unXgCRV78kmttiLREl6Aa7KWBHKZSQZ5qI2dSpYUW3KtvW73grPUFFbUi0h1vgD9qQIfg62bgGhxknUz0lGSYaf2rRt1K6kcKRr7yDA9c-vP6-9X11dVlQ5rOfoNwqYEiLbWFdmsfi7Japa-2fAa8P7oNVbdeLOLvHV-UkG9V1kjiybw-XylRUWLprOPo7I7cLQkjDy3JZVpX9LhOY3t7mnELqQDlwKCgh7gXo5i4149I3Bv2H9dH26Xfix8f991EwWtdO6I3OGBVl_lAqLLXL_PN5wQgrD-jRuYBSrjKiXR2hxCLLbC1HKRVzdvd27BHZKcHjhoV2Za7U-dW9J8VsiJjxNMcZPQOMLhccHGAxTlYJ1XVgM1O9E57dQe663hWAGus__X17BBfx1LMNzKCB-GT0AnCXQh8qr2NPx8MKjoNvjsooU7kme8Z63DmWNz8SFEzz1qXtfEPX_MeD8gUp4HP1riYGmpJ25Zaq4gIQEuLTL9GZCGLecnFvEMjugCz4DLHSbjyWiYUkxcwoQxv8R18WbgJnah3hPKl0_dvSlDmzBIiuixz7JF6cFI25YXdnH7LpdNmcwjh8aYauWHyRhRH5C-tt4n4TNmKvlJ2ctY7PWtcSUTfKOsPz3uDOEmSQYzbYHj6HtG_gQCdqa5hfJ6cJP0kef8HzwPyyw?type=png" /></a></p>
<h3 id="storing-groceries">Storing Groceries</h3>
<p><a href="https://mermaid.live/edit#pako:eNq1VFFP2zAQ_iuWX0pFGlKgROSBh8GYRkFUwMOAVpHjXFuP1M5sF-gQ_31nJy1Z0aqhaXlw4rvvLnffZ98L5SoHmlADP-YgOZwINtFsNpSElExbwUXJpCUDIMzgqjmUVij5zu_dBZNSyMm6s--cfameCsgn4LyDztFRPyFCCpsaqzQGpROtOGgBZgkYJORCPQK5UpmyiLWKMA2SkacpSJIrpYkwRJUg1yMQyedlppjOCZO5x7xZXGSjCJV9B25TDUVaKgNbreMamN7eXF6d3307awWkVbrWxSPg9_alp8AEpDPAgGvLZiXkbZey36mqaNgTct8STKQPwnKse8dMoRgnjTXNmIGUg7SgMft9FEaYOQq7AYnCXne0NL0t3TAajTb1vCyWuIZWQEgqAZ0DHkEv7BR5R2KNyGEV7OFQ93EujCVqXHNkPJl2CkL7zKbBItfALKQVcKtz6d_I1c2ihIA0CcFdTWCbjFFDYHy6qjivf7VJnxuWFVCJ8-Xkek0c8mdx1tiyLs3HqFLSdV9F_heetn_jaftDPEl4tmt5267PCVjvIxm4Ir3D2UvBH5pntgpJyDFgicUn9Zzenn09PTs9Pdl4Wd6hvSAF4_9-VTjLhASbrL03XpiDv7kwA2wd9WErOpxevmYicGO9yjnSJSRz9ZNCcbYce3WOKyihRrLMHSljcTQastXQYQdLsm5YrdMWhmGDJdy12zSgM9AzJnKcxi_uR0OKsTMY0gQ_cxizeWGHdChfEcrmVl0vJKeJ1XMI6LzM8VjVw5smY1aYlfVzLnDErozgtxfV2PfTP6A4pu-UegvEPU1e6DNN9g7C_YPGEwd0QZNu7zDcjeI43o3wtdvbfw3oT58Aqa6eXnQY78XdOH79BSKEGOo"><img alt="" src="https://mermaid.ink/img/pako:eNq1VFFP2zAQ_iuWX0pFGlKgROSBh8GYRkFUwMOAVpHjXFuP1M5sF-gQ_31nJy1Z0aqhaXlw4rvvLnffZ98L5SoHmlADP-YgOZwINtFsNpSElExbwUXJpCUDIMzgqjmUVij5zu_dBZNSyMm6s--cfameCsgn4LyDztFRPyFCCpsaqzQGpROtOGgBZgkYJORCPQK5UpmyiLWKMA2SkacpSJIrpYkwRJUg1yMQyedlppjOCZO5x7xZXGSjCJV9B25TDUVaKgNbreMamN7eXF6d3307awWkVbrWxSPg9_alp8AEpDPAgGvLZiXkbZey36mqaNgTct8STKQPwnKse8dMoRgnjTXNmIGUg7SgMft9FEaYOQq7AYnCXne0NL0t3TAajTb1vCyWuIZWQEgqAZ0DHkEv7BR5R2KNyGEV7OFQ93EujCVqXHNkPJl2CkL7zKbBItfALKQVcKtz6d_I1c2ihIA0CcFdTWCbjFFDYHy6qjivf7VJnxuWFVCJ8-Xkek0c8mdx1tiyLs3HqFLSdV9F_heetn_jaftDPEl4tmt5267PCVjvIxm4Ir3D2UvBH5pntgpJyDFgicUn9Zzenn09PTs9Pdl4Wd6hvSAF4_9-VTjLhASbrL03XpiDv7kwA2wd9WErOpxevmYicGO9yjnSJSRz9ZNCcbYce3WOKyihRrLMHSljcTQastXQYQdLsm5YrdMWhmGDJdy12zSgM9AzJnKcxi_uR0OKsTMY0gQ_cxizeWGHdChfEcrmVl0vJKeJ1XMI6LzM8VjVw5smY1aYlfVzLnDErozgtxfV2PfTP6A4pu-UegvEPU1e6DNN9g7C_YPGEwd0QZNu7zDcjeI43o3wtdvbfw3oT58Aqa6eXnQY78XdOH79BSKEGOo?type=png" /></a></p>
<h3 id="clean-the-table">Clean the Table</h3>
<p><a href="https://mermaid.live/edit#pako:eNqNVFFP2zAQ_iuWXwpaWlKgg_mBp67SiBAV8LJRFDn2tfVI7cx2gYL47zs7aRrYhPCD4_juPn939-leqDASKKMO_qxBCxgrvrB8NdOEVNx6JVTFtSdTINzhbgVUXhn9jz2aS6610ov3xiwYM20eS5ALCNZp_-wsY0Rp5XNRAte5X0LueVG25ikjF-YByJUpjEdPbwj6EG5BI9q98mIJmjyGTRpjiXLEVKA76Kb4DcLnFsq8Mg72emMV2N2EV_Kf5z8m55PJuJeQXhXSUg-A5y-XMT2XkP4UY649X1Ug9wm-vgBPtp4kABIzj5QEL5SGwNF5jiUMFLJ-nUIHhJHbnuIqb6gfxGxZZ88L7iAXoD1YpHKbDlKkkQ6GCUkHo-Hd9mq3DQfp3d37giFVGRMlEfUt59YZWN3NYIAHsBu_DCFGx5S6ADEEtvk0MbKpriNcyxCibMR3nfoLC9xDXjvu9S_jF0t8s6kAP53S7Oq-T-bYS-Bi2fLePtVB1vDk3-G2LQo2UoDzTVi4r5S433YFk6gjWNAr8ptkk-xynH0knDeOUTElF5-Qi0QaSvPg8kYxVcD7pEykcstH7pZg2X-PH6rm62dUM8Xq7GjFhsb8iPKE-1oPnURKI-rDHgpeSWgEs-Wz30G-ggoaBF4EbTqP48PhJ0wHFBj33V4eDGP3g7uFFa812OiMJnQFFi8lDquX8MaMouMKZpThUcKcr0s_ozP9iq587c31RgvKvF1DQteVxNSa2UbZnJeuvf0ulTe2vYT4e1FPxTgcE4pT7Jcxu0D8p-yFPlE2PB0cHnXWKKEbvD0ZDU6H39J2Hb4m9DkiYPGbdXR8OEpPjl__AmQi0vY"><img alt="" src="https://mermaid.ink/img/pako:eNqNVFFP2zAQ_iuWXwpaWlKgg_mBp67SiBAV8LJRFDn2tfVI7cx2gYL47zs7aRrYhPCD4_juPn939-leqDASKKMO_qxBCxgrvrB8NdOEVNx6JVTFtSdTINzhbgVUXhn9jz2aS6610ov3xiwYM20eS5ALCNZp_-wsY0Rp5XNRAte5X0LueVG25ikjF-YByJUpjEdPbwj6EG5BI9q98mIJmjyGTRpjiXLEVKA76Kb4DcLnFsq8Mg72emMV2N2EV_Kf5z8m55PJuJeQXhXSUg-A5y-XMT2XkP4UY649X1Ug9wm-vgBPtp4kABIzj5QEL5SGwNF5jiUMFLJ-nUIHhJHbnuIqb6gfxGxZZ88L7iAXoD1YpHKbDlKkkQ6GCUkHo-Hd9mq3DQfp3d37giFVGRMlEfUt59YZWN3NYIAHsBu_DCFGx5S6ADEEtvk0MbKpriNcyxCibMR3nfoLC9xDXjvu9S_jF0t8s6kAP53S7Oq-T-bYS-Bi2fLePtVB1vDk3-G2LQo2UoDzTVi4r5S433YFk6gjWNAr8ptkk-xynH0knDeOUTElF5-Qi0QaSvPg8kYxVcD7pEykcstH7pZg2X-PH6rm62dUM8Xq7GjFhsb8iPKE-1oPnURKI-rDHgpeSWgEs-Wz30G-ggoaBF4EbTqP48PhJ0wHFBj33V4eDGP3g7uFFa812OiMJnQFFi8lDquX8MaMouMKZpThUcKcr0s_ozP9iq587c31RgvKvF1DQteVxNSa2UbZnJeuvf0ulTe2vYT4e1FPxTgcE4pT7Jcxu0D8p-yFPlE2PB0cHnXWKKEbvD0ZDU6H39J2Hb4m9DkiYPGbdXR8OEpPjl__AmQi0vY?type=png" /></a></p>
<h2 id="data-types">Data types</h2>
<h3 id="typeclass">Type/Class</h3>
<p>An iri, for example <code>'http://www.ease-crc.org/ont/SOMA.owl#Table'</code> or the shortform <code>soma:'Table'</code> that denotes a class of objects.</p>
<h3 id="object">Object</h3>
<p>An iri, for example <code>'http://www.ease-crc.org/ont/SOMA.owl#Table_MBOLQEWJ'</code> that denotes an individual object.</p>
<h3 id="posestamped">PoseStamped</h3>
<p>A list of Frame, Position and Rotation.
Position and Rotation are each a list of length 3 and 4.</p>
<p><code>[Frame, [X, Y, Z], [RX, RY, RZ, RW]]</code></p>
<h2 id="objects">Objects</h2>
<p>This section describes the predicates that are used to create and get information about objects.
An object is any physical object that has a proper space region. Available objects types are defined in the <a href="/objects/">SUTURO Objects</a>.</p>
<h3 id="create-an-object">Create an object</h3>
<p>Create an object of a given Type at the given PoseStamped.</p>
<p>The <code>Type</code> can be the full IRI or the <code>namespace:'Name'</code> form.</p>
<p>The Options that can be processed are:</p>
<ul>
<li><code>shape(ShapeTerm)</code> <em>optional</em> - The shape of the object. If not specified, Knowledge will have no shape information about this object.</li>
<li><code>class_confidence</code> -  A confidence that a robot has about the recognition of objects</li>
</ul>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">create_object</span><span class="p">(</span><span class="o">-</span><span class="nv">Object</span><span class="p">,</span> <span class="o">+</span><span class="nv">Type</span><span class="p">,</span> <span class="o">+</span><span class="nv">PoseStamped</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">det</span><span class="p">.</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nf">create_object</span><span class="p">(</span><span class="o">-</span><span class="nv">Object</span><span class="p">,</span> <span class="o">+</span><span class="nv">Type</span><span class="p">,</span> <span class="o">+</span><span class="nv">PoseStamped</span><span class="p">,</span> <span class="o">+</span><span class="nv">Options</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">det</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="s s-Atom">?-</span> <span class="nf">create_object</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#CerealBox&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s s-Atom">&#39;iai_kitchen/long_table:table:table_front_edge_center&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.70711</span><span class="p">,</span><span class="mf">0.70711</span><span class="p">]]).</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SOMA</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">CerealBox_LTKIUPNG</span><span class="p">.</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="s s-Atom">?-</span> <span class="nf">create_object</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="nn">soma</span><span class="p">:</span><span class="s s-Atom">&#39;CerealBox&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s s-Atom">&#39;map&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.70711</span><span class="p">,</span><span class="mf">0.70711</span><span class="p">]],</span> <span class="p">[</span><span class="nf">shape</span><span class="p">(</span><span class="nf">box</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">))]).</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SOMA</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">CerealBox_BHVKCONR</span><span class="p">.</span>
</span></code></pre></div></p>
<h3 id="query-an-object">Query an object</h3>
<p>To get existing objects for a class/type.</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nf">has_type</span><span class="p">(</span><span class="o">-</span><span class="nv">Object</span><span class="p">,</span> <span class="o">+</span><span class="nv">Class</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">nondet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nf">has_type</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#CerealBox&#39;</span><span class="p">).</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SOMA</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">CerealBox_LTKIUPNG</span><span class="p">.</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="nf">has_type</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Apple&#39;</span><span class="p">).</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SUTURO</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">Apple_LTKIUPNG</span> <span class="p">;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SUTURO</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">Apple_KFJSNPNG</span> <span class="p">;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SUTURO</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">Apple_KLDJKPNG</span><span class="p">.</span>
</span></code></pre></div></p>
<h3 id="pose-and-shape-information">Pose and shape information</h3>
<p>To get or set the pose of an object, use the following predicate.<br />
If an unset variable is passed for <code>PoseStamped</code>, the predicate will try to find a pose in the knowledge base.
If the <code>PoseStamped</code> is fully specified, the predicate will set the pose in the knowledge base.</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nf">object_pose</span><span class="p">(</span><span class="o">+</span><span class="nv">Object</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">PoseStamped</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">semidet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">% Get the pose of an object</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="s s-Atom">?-</span> <span class="nf">object_pose</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_LTKIUPNG&#39;</span><span class="p">,</span> <span class="nv">PoseStamped</span><span class="p">)</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nv">PoseStamped</span><span class="s s-Atom">:</span> <span class="p">[</span><span class="s s-Atom">&#39;map&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c1">% Set/Update the pose of an object</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="s s-Atom">?-</span> <span class="nf">object_pose</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_LTKIUPNG&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s s-Atom">&#39;map&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="s s-Atom">true</span><span class="p">.</span>
</span></code></pre></div></p>
<p>The documentation of <code>object_shape/5</code> is viewable <a href="https://knowrob.github.io/knowrob/master/model/SOMA.html#object_shape/5">here</a>.
Because of <a href="https://github.com/knowrob/knowrob/issues/368">knowrob#368</a> this is currently not done via <code>object_shape/5</code> but via <code>object_shape_workaround/5</code>.</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nf">object_shape_workaround</span><span class="p">(</span><span class="s s-Atom">?</span><span class="nv">Obj</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">Frame</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">ShapeTerm</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">Pose</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">Material</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">semidet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="s s-Atom">?-</span> <span class="nf">object_shape_workaround</span><span class="p">(</span><span class="nn">soma</span><span class="p">:</span><span class="s s-Atom">&#39;CerealBox&#39;</span><span class="p">,</span> <span class="nv">Frame</span><span class="p">,</span> <span class="nv">ShapeTerm</span><span class="p">,</span> <span class="nv">Pose</span><span class="p">,</span> <span class="nv">Material</span><span class="p">).</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nv">Frame</span><span class="s s-Atom">:</span> <span class="nv">CerealBox_BHVKCONR</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nv">Material</span><span class="s s-Atom">:</span> <span class="p">{</span><span class="s s-Atom">&#39;term&#39;:</span> <span class="p">[</span><span class="s s-Atom">&#39;material&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s s-Atom">&#39;term&#39;:</span> <span class="p">[</span><span class="s s-Atom">&#39;rgba&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;_&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;_&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;_&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;_&#39;</span><span class="p">]}]},</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="nv">Pose</span><span class="s s-Atom">:</span> <span class="p">[</span><span class="s s-Atom">&#39;CerealBox_BHVKCONR&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;_&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;_&#39;</span><span class="p">],</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="nv">ShapeTerm</span><span class="s s-Atom">:</span> <span class="p">{</span><span class="s s-Atom">&#39;term&#39;:</span> <span class="p">[</span><span class="s s-Atom">&#39;box&#39;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]}.</span>
</span></code></pre></div>
Note that this is not the format you will see in lisp, there the <code>term</code> stuff is probably translated to a lispier structure, like <code>(box 0.1 0.1 0.1)</code>.
There might be a better predicate for this in the future, and the blanks in the pose might be a real position and rotation in the future. The <code>_</code> indicates that there is no value for this place.</p>
<h3 id="relative-poses">Relative poses</h3>
<h4 id="inside-of-rooms">Inside of rooms</h4>
<p>For all objects the room they are inside of is computed during creation (<code>create_object</code>, is also called during semantic map initialisation) and position updating (<code>object_pose</code> with a given pose).
The result of this computation can be retrieved using the following predicate:</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nf">is_inside_of</span><span class="p">(</span><span class="s s-Atom">?</span><span class="nv">Obj</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">Room</span><span class="p">)</span>
</span></code></pre></div>
<p>Examples:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="s s-Atom">?-</span> <span class="nf">is_inside_of</span><span class="p">(</span><span class="nv">Obj</span><span class="p">,</span> <span class="nv">Room</span><span class="p">).</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nv">Obj</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_NDCBRWEY&#39;</span><span class="p">,</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nv">Room</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Arena_BQHSDXOM&#39;</span> <span class="p">;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="nv">Obj</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_NDCBRWEY&#39;</span><span class="p">,</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="nv">Room</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#LivingRoom_DKPLJIOG&#39;</span><span class="p">;</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="p">...</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="s s-Atom">?-</span> <span class="nf">is_inside_of</span><span class="p">(</span><span class="nn">soma</span><span class="p">:</span><span class="s s-Atom">&#39;Table_NDCBRWEY&#39;</span><span class="p">,</span><span class="nv">Room</span><span class="p">).</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="nv">Room</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Arena_BQHSDXOM&#39;</span> <span class="p">;</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="nv">Room</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#LivingRoom_DKPLJIOG&#39;</span><span class="p">.</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="s s-Atom">?-</span> <span class="nf">is_inside_of</span><span class="p">(</span><span class="nv">Obj</span><span class="p">,</span> <span class="nn">suturo</span><span class="p">:</span><span class="s s-Atom">&#39;LivingRoom_DKPLJIOG&#39;</span><span class="p">).</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="nv">Obj</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_NDCBRWEY&#39;</span> <span class="p">;</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="nv">Obj</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_OKRVGFLP&#39;</span> <span class="p">;</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="nv">Obj</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Door_EYVRJCHL&#39;</span> <span class="p">;</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="nv">Obj</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_CWYUNSDX&#39;</span><span class="p">.</span>
</span></code></pre></div></p>
<h4 id="on-top-of-furniture">On top of Furniture</h4>
<p>For all objects, which are not from the semantic map, the furniture (object from the semantic map) they are ontop of is computed during creation (<code>create_object</code>) and position updating (<code>object_pose</code> with a given pose).
The result of this computation can be retrieved using triples:</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nf">triple</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="nn">soma</span><span class="p">:</span><span class="s s-Atom">isOntopOf</span><span class="p">,</span> <span class="nv">Furniture</span><span class="p">).</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="s s-Atom">?-</span> <span class="nf">triple</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="nn">soma</span><span class="p">:</span><span class="s s-Atom">isOntopOf</span><span class="p">,</span> <span class="nv">Furniture</span><span class="p">)</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nv">Furniture</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_NCPFJOBW&#39;</span><span class="p">,</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#CerealBox_GZPBESQD&#39;</span><span class="p">.</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="s s-Atom">?-</span> <span class="nf">triple</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="nn">soma</span><span class="p">:</span><span class="s s-Atom">isOntopOf</span><span class="p">,</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_NCPFJOBW&#39;</span><span class="p">)</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#CerealBox_GZPBESQD&#39;</span><span class="p">.</span>
</span></code></pre></div></p>
<h3 id="sorting-objects-by-position">Sorting objects by position</h3>
<p><div class="language-prolog highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nf">sort_right_to_left</span><span class="p">(</span><span class="o">+</span><span class="nv">RefereceFrame</span><span class="p">,</span> <span class="o">+</span><span class="nv">Objects</span><span class="p">,</span> <span class="o">-</span><span class="nv">SortedObjects</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">det</span><span class="p">.</span>
</span></code></pre></div>
Sort a list of objects from right to left (on the y axis from - to +)
relative to the reference frame.</p>
<h3 id="poses-for-robot-interaction">Poses for robot interaction</h3>
<p>Gets a position relative to the object based on the type of relation.</p>
<p>Valid <code>Type</code>s are </p>
<ul>
<li><code>perceive</code>: (Optimal) Pose for the robot to position at to perceive the object</li>
<li><code>interact</code>: (Optimal) Pose for the robot to position at to interact with the object (eg. grasp with the gripper)</li>
<li><code>destination</code>: Returns the destination pose of an object. The destination pose is the pose where the object should be placed based on their predefined locations and current context. The destination might change over time.</li>
</ul>
<p>Valid entries in the <code>Options</code> list are</p>
<ul>
<li><code>direction(Dir)</code> with <code>Dir</code> being one of <code>['-x', '+x', '-y', '+y']</code>. This Option specifies the direction from which the robot should approach the object.
  For example, if <code>direction('-x')</code> is set, the position will have an x value that is smaller than the x value of the object.
  Currently this is only implemented for perceive.
  The default is <code>direction('-x')</code>.</li>
</ul>
<p>This list might be expanded later.</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nf">object_rel_pose</span><span class="p">(</span><span class="o">+</span><span class="nv">Object</span><span class="p">,</span> <span class="o">+</span><span class="nv">Type</span><span class="p">,</span> <span class="o">-</span><span class="nv">PoseStamped</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">semidet</span><span class="p">.</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nf">object_rel_pose</span><span class="p">(</span><span class="o">+</span><span class="nv">Object</span><span class="p">,</span> <span class="o">+</span><span class="nv">Type</span><span class="p">,</span> <span class="o">+</span><span class="nv">Options</span><span class="p">,</span> <span class="o">-</span><span class="nv">PoseStamped</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">semidet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="s s-Atom">?-</span> <span class="nf">object_rel_pose</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_YTORLZXJ&#39;</span><span class="p">,</span> <span class="s s-Atom">perceive</span><span class="p">,</span> <span class="p">[</span><span class="nf">direction</span><span class="p">(</span><span class="s s-Atom">&#39;-x&#39;</span><span class="p">)],</span> <span class="nv">Pose</span><span class="p">).</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nv">Pose</span><span class="s s-Atom">:</span> <span class="p">[</span><span class="s s-Atom">&#39;iai_kitchen/long_table:table:table_front_edge_center&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]].</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="s s-Atom">?-</span> <span class="nf">object_rel_pose</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#CerealBox_JDHUPSME&#39;</span><span class="p">,</span> <span class="s s-Atom">destination</span><span class="p">,</span> <span class="nv">Pose</span><span class="p">).</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="nv">Pose</span><span class="s s-Atom">:</span> <span class="p">[</span><span class="s s-Atom">&#39;iai_kitchen/shelf:shelf:shelf_base_center&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.51</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]].</span>
</span></code></pre></div></p>
<p>For more details, see <a href="src/model/object/object_rel_pose/README.md"><code>src/model/object/object_rel_pose/README.md</code></a>.</p>
<h3 id="predefined-object-names">Predefined object names</h3>
<p>To get the predefined RoboCup name of an object or class or the object class of a RoboCup name, use the following predicates.</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nf">has_predefined_name</span><span class="p">(</span><span class="s s-Atom">?</span><span class="nv">Class</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">Name</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">nondet</span><span class="p">.</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="nf">object_has_predefined_name</span><span class="p">(</span><span class="s s-Atom">?</span><span class="nv">Object</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">Name</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">nondet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="s s-Atom">?-</span> <span class="nf">has_predefined_name</span><span class="p">(</span><span class="nv">Class</span><span class="p">,</span> <span class="s s-Atom">&#39;tomato soup&#39;</span><span class="p">).</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nv">Class</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#TomatoSoupCan&#39;</span><span class="p">.</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="s s-Atom">?-</span> <span class="nf">has_predefined_name</span><span class="p">(</span><span class="nn">soma</span><span class="p">:</span><span class="s s-Atom">&#39;WineBottle&#39;</span><span class="p">,</span> <span class="nv">Name</span><span class="p">).</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="nv">Name</span><span class="s s-Atom">:</span> <span class="s s-Atom">red</span> <span class="s s-Atom">wine</span><span class="p">.</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="s s-Atom">?-</span> <span class="nf">object_has_predefined_name</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#CerealBoxRoboCup_PCMOTGKZ&#39;</span><span class="p">,</span> <span class="nv">Name</span><span class="p">).</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="nv">Name</span><span class="s s-Atom">:</span> <span class="s s-Atom">cornflakes</span><span class="p">.</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="s s-Atom">?-</span> <span class="nf">object_has_predefined_name</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="s s-Atom">snacks</span><span class="p">).</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#CerealBoxRoboCup_PCMOTGKZ&#39;</span><span class="p">.</span>
</span></code></pre></div></p>
<h3 id="robocup-names">Robocup Names</h3>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nf">has_robocup_name</span><span class="p">(</span><span class="s s-Atom">?</span><span class="nv">Furniture</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">Name</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">nondet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="s s-Atom">?-</span> <span class="nf">has_robocup_name</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span><span class="s s-Atom">kitchen_table</span><span class="p">).</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="nv">X</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#KitchenTable_DJXSUEFR&#39;</span><span class="p">.</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="s s-Atom">?-</span> <span class="nf">has_robocup_name</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_WZOPHBCM&#39;</span><span class="p">,</span><span class="nv">Y</span><span class="p">).</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="nv">Y</span><span class="s s-Atom">:</span> <span class="s s-Atom">bed</span><span class="p">.</span>
</span></code></pre></div></p>
<p>Get the knowledge_role assigned to a furniture in the semantic map.
Make sure that the knowledge_role in there matches the robocup name.</p>
<h3 id="predefined-object-locations">Predefined object locations</h3>
<p>Get the predefined origin and destination location of object classes.
The predefined locations are the location (or reference object) where the object is placed at the beginning of the task or should be placed at the end of the task.</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nf">predefined_origin_location</span><span class="p">(</span><span class="o">+</span><span class="nv">Class</span><span class="p">,</span> <span class="o">-</span><span class="nv">OriginLocation</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">nondet</span><span class="p">.</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="nf">predefined_destination_location</span><span class="p">(</span><span class="o">+</span><span class="nv">Class</span><span class="p">,</span> <span class="o">-</span><span class="nv">DestinationLocation</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">nondet</span><span class="p">.</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For <code>Serving Breakfast</code> the predicate <code>init_serve_breakfast.</code> has to be called first to load/initialize the challenge specific predefined locations.
For <code>Storing Groceries</code> the predicate <code>init_storing_groceries.</code>.
For <code>Clean the Table</code> the predicate <code>init_clean_the_table.</code>.
For <code>GPSR</code> the predicate <code>init_gpsr.</code>.</p>
</div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="s s-Atom">?-</span> <span class="nf">predefined_origin_location</span><span class="p">(</span><span class="nn">soma</span><span class="p">:</span><span class="s s-Atom">&#39;Bowl&#39;</span><span class="p">,</span> <span class="nv">OriginLocation</span><span class="p">).</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="nv">OriginLocation</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Shelf_FNSVGYRI&#39;</span><span class="p">.</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="s s-Atom">?-</span> <span class="nf">predefined_destination_location</span><span class="p">(</span><span class="nn">soma</span><span class="p">:</span><span class="s s-Atom">&#39;Bowl&#39;</span><span class="p">,</span> <span class="nv">DestinationLocation</span><span class="p">).</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="nv">DestinationLocation</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_BPXIQGES&#39;</span><span class="p">.</span>
</span></code></pre></div></p>
<h3 id="next-best-object">Next best object</h3>
<p>Gets the next best object to pick based on the current context.</p>
<p>This reasoner calculates the next best object to pick based on factors like the distance of the object to the robot and the destination location, the benefit (bonus points) and the confidence of the object detection by Perception.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For <code>next_object</code> to work, the objects have to be created first with the <code>create_object</code> predicate.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For <code>Serving Breakfast</code> the predicate <code>init_serve_breakfast.</code> has to be called first for this to work.
For <code>Storing Groceries</code> the predicate <code>init_storing_groceries.</code>.
For <code>Clean the Table</code> the predicate <code>init_clean_the_table.</code>.</p>
</div>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nf">next_object</span><span class="p">(</span><span class="o">-</span><span class="nv">Object</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">nondet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="s s-Atom">?-</span> <span class="nf">next_object</span><span class="p">(</span><span class="nv">Object</span><span class="p">).</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Banana_WRQHESGO&#39;</span><span class="p">.</span>
</span></code></pre></div></p>
<p><strong>Object handled state</strong></p>
<p>To update the handled state of an object and remove or add it to the possible next objects, use the following predicates:</p>
<p>Set objects to <code>handled=true</code>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nf">set_object_handled</span><span class="p">(</span><span class="o">+</span><span class="nv">Object</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">det</span><span class="p">.</span>
</span></code></pre></div></p>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="s s-Atom">?-</span> <span class="nf">set_object_handled</span><span class="p">(</span><span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SUTURO</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">Banana_WRQHESGO</span><span class="p">).</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="s s-Atom">true</span><span class="p">.</span>
</span></code></pre></div></p>
<p>Set objects to <code>handled=false</code>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nf">set_object_not_handled</span><span class="p">(</span><span class="o">+</span><span class="nv">Object</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">det</span><span class="p">.</span>
</span></code></pre></div></p>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="s s-Atom">?-</span> <span class="nf">set_object_not_handled</span><span class="p">(</span><span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SUTURO</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">Banana_WRQHESGO</span><span class="p">).</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="s s-Atom">true</span><span class="p">.</span>
</span></code></pre></div></p>
<h3 id="semantic-similarity-measure">Semantic similarity measure</h3>
<p>The semantic similarity measure is useful for sorting and grouping objects by similarity or category.</p>
<h4 id="most-similar-object">Most similar object</h4>
<p>Finds the most similar object to the given object from a list of input objects.
May also find the Wu-Palmer similarity between the objects.</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nf">most_similar_object</span><span class="p">(</span><span class="o">+</span><span class="nv">Object</span><span class="p">,</span> <span class="o">+</span><span class="nv">InputObjects</span><span class="p">,</span> <span class="o">-</span><span class="nv">MostSimilarObject</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">semidet</span><span class="p">.</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="nf">most_similar_object</span><span class="p">(</span><span class="o">+</span><span class="nv">Object</span><span class="p">,</span> <span class="o">+</span><span class="nv">InputObjects</span><span class="p">,</span> <span class="o">-</span><span class="nv">MostSimilarObject</span><span class="p">,</span> <span class="o">-</span><span class="nv">Similarity</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">semidet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="s s-Atom">?-</span> <span class="nf">most_similar_object</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Strawberry_FDMTIOJK&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#CerealBox_QHUCMGZP&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Banana_WRQHESGO&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Knife_SZIFXLCO&#39;</span><span class="p">],</span> <span class="nv">Object</span><span class="p">).</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Banana_WRQHESGO&#39;</span><span class="p">.</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="s s-Atom">?-</span> <span class="nf">most_similar_object</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Strawberry_PQWNGBUF&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#CerealBox_VKPYRUIM&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Tuna_UGDMHTNP&#39;</span><span class="p">],</span> <span class="nv">Object</span><span class="p">,</span> <span class="nv">Similarity</span><span class="p">,</span> <span class="nv">Threshold</span><span class="p">).</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SUTURO.owl#Tuna_UGDMHTNP&#39;</span><span class="p">,</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="nv">Similarity</span><span class="s s-Atom">:</span> <span class="mf">0.75</span><span class="p">,</span>
</span></code></pre></div></p>
<h4 id="wu-palmer-similarity">Wu-Palmer similarity</h4>
<p>Calculates the <a href="https://www.geeksforgeeks.org/nlp-wupalmer-wordnet-similarity/">Wu-Palmer similarity</a> between two classes. The similarity can be 0 &lt; similarity &lt;= 1.  </p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nf">wu_palmer_similarity</span><span class="p">(</span><span class="o">+</span><span class="nv">Class1</span><span class="p">,</span> <span class="o">+</span><span class="nv">Class2</span><span class="p">,</span> <span class="o">-</span><span class="nv">Similarity</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">semidet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="s s-Atom">?-</span> <span class="nf">wu_palmer_similarity</span><span class="p">(</span><span class="nn">suturo</span><span class="p">:</span><span class="s s-Atom">&#39;Banana&#39;</span><span class="p">,</span> <span class="nn">suturo</span><span class="p">:</span><span class="s s-Atom">&#39;Strawberry&#39;</span><span class="p">,</span> <span class="nv">Similarity</span><span class="p">).</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="nv">Similarity</span><span class="s s-Atom">:</span> <span class="mf">0.875</span><span class="p">.</span>
</span></code></pre></div></p>
<h2 id="rooms">Rooms</h2>
<p>See <a href="https://github.com/SUTURO/suturo_knowledge/tree/master/suturo_knowledge/src/model/rooms">the rooms readme</a>.</p>
<h2 id="utils">Utils</h2>
<h3 id="resetting-the-data">Resetting the data</h3>
<p>Delete all objects, what challenge was initiliazied, etc
and initialize the semantic map furnitures again.</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="s s-Atom">reset_user_data</span>
</span></code></pre></div>
<h3 id="getting-the-object-for-a-link-name">Getting the object for a link name</h3>
<p>This is useful for getting data about specific environment furniture, for example the tall table.</p>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="nf">has_urdf_name</span><span class="p">(</span><span class="s s-Atom">?</span><span class="nv">Object</span><span class="p">,</span> <span class="s s-Atom">?</span><span class="nv">URDFName</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">nondet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="s s-Atom">?-</span> <span class="nf">has_urdf_name</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="nv">URDFName</span><span class="p">).</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">knowrob</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">kb</span><span class="o">/</span><span class="nv">IAI</span><span class="o">-</span><span class="s s-Atom">kitchen</span><span class="p">.</span><span class="s s-Atom">owl#iai_kitchen_fridge_door_handle</span><span class="p">,</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="nv">URDFName</span><span class="s s-Atom">:</span> <span class="s s-Atom">iai_fridge_door_handle</span> <span class="p">;</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">knowrob</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">kb</span><span class="o">/</span><span class="nv">IAI</span><span class="o">-</span><span class="s s-Atom">kitchen</span><span class="p">.</span><span class="s s-Atom">owl#iai_kitchen_oven_area_area</span><span class="p">,</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="nv">URDFName</span><span class="s s-Atom">:</span> <span class="s s-Atom">oven_area_area</span> <span class="p">;</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SOMA</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">Table_LXEIYGPZ</span><span class="p">,</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="nv">URDFName</span><span class="s s-Atom">:</span> <span class="s s-Atom">long_table:</span><span class="nn">table</span><span class="p">:</span><span class="s s-Atom">table_front_edge_center</span> <span class="p">;</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SOMA</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">Table_MBOLQEWJ</span><span class="p">,</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="nv">URDFName</span><span class="s s-Atom">:</span> <span class="s s-Atom">tall_table:</span><span class="nn">table</span><span class="p">:</span><span class="s s-Atom">table_front_edge_center</span><span class="p">.</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="c1">% Notice that there are single quotes around the urdf because it contains non [a-z_] characters.</span>
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="s s-Atom">?-</span> <span class="nf">has_urdf_name</span><span class="p">(</span><span class="nv">Object</span><span class="p">,</span> <span class="s s-Atom">&#39;tall_table:table:table_front_edge_center&#39;</span><span class="p">).</span>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="nv">Object</span><span class="s s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">www</span><span class="p">.</span><span class="s s-Atom">ease</span><span class="o">-</span><span class="s s-Atom">crc</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">ont</span><span class="o">/</span><span class="nv">SOMA</span><span class="p">.</span><span class="s s-Atom">owl#</span><span class="nv">Table_MBOLQEWJ</span><span class="p">.</span>
</span><span id="__span-33-18"><a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a>
</span><span id="__span-33-19"><a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a>
</span><span id="__span-33-20"><a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="s s-Atom">?-</span> <span class="s s-Atom">furniture_creation:</span><span class="nf">has_urdf_name</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_MBOLQEWJ&#39;</span><span class="p">,</span> <span class="nv">URDFName</span><span class="p">).</span>
</span><span id="__span-33-21"><a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="nv">URDFName</span><span class="s s-Atom">:</span> <span class="s s-Atom">tall_table:</span><span class="nn">table</span><span class="p">:</span><span class="s s-Atom">table_front_edge_center</span><span class="p">.</span>
</span></code></pre></div></p>
<h3 id="getting-the-tf-frame">Getting the TF frame</h3>
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nf">has_tf_name</span><span class="p">(</span><span class="o">+</span><span class="nv">Object</span><span class="p">,</span> <span class="o">-</span><span class="nv">TFName</span><span class="p">)</span> <span class="o">is</span> <span class="s s-Atom">semidet</span><span class="p">.</span>
</span></code></pre></div>
<p>Example:
<div class="language-prolog highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="s s-Atom">?-</span> <span class="nf">has_tf_name</span><span class="p">(</span><span class="s s-Atom">&#39;tall_table:table:table_front_edge_center&#39;</span><span class="p">,</span><span class="nv">TFName</span><span class="p">).</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="nv">TFName</span><span class="s s-Atom">:</span> <span class="s s-Atom">iai_kitchen</span><span class="o">/</span><span class="s s-Atom">tall_table:</span><span class="nn">table</span><span class="p">:</span><span class="s s-Atom">table_front_edge_center</span><span class="p">.</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="s s-Atom">?-</span> <span class="nf">has_tf_name</span><span class="p">(</span><span class="s s-Atom">&#39;http://www.ease-crc.org/ont/SOMA.owl#Table_LTKIUPNG&#39;</span><span class="p">,</span> <span class="nv">TFName</span><span class="p">).</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="nv">TFName</span><span class="s s-Atom">:</span> <span class="s s-Atom">iai_kitchen</span><span class="o">/</span><span class="s s-Atom">tall_table:</span><span class="nn">table</span><span class="p">:</span><span class="s s-Atom">table_front_edge_center</span><span class="p">.</span>
</span></code></pre></div></p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="drop-roslog-database">Drop roslog database</h3>
<p>The roslog MongoDB database used in Knowledge increases relatively fast when working with the HSR.<br />
To fix this, drop the roslog database on a regular bases. Execute this in the shell and restart Knowledge.
<div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>mongo<span class="w"> </span>roslog<span class="w"> </span>--eval<span class="w"> </span><span class="s2">&quot;db.dropDatabase()&quot;</span>
</span></code></pre></div></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.path", "navigation.top", "toc.integrate", "search.suggest", "content.action.edit", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.13.4/r-2.4.1/datatables.min.js"></script>
      
        <script src="../assets/javascripts/extra.js"></script>
      
    
  </body>
</html>